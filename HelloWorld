public static void CsvToJson(Stream csvStream, Stream jsonOutputStream)
{
    var config = new CsvConfiguration(CultureInfo.InvariantCulture)
    {
        IgnoreBlankLines = true,
        MissingFieldFound = null
    };

    using var reader = new StreamReader(csvStream);
    using var csv = new CsvReader(reader, config);
    var records = new List<dynamic>();

    foreach (var record in csv.GetRecords<dynamic>())
    {
        records.Add(record);
    }

    WriteJson(jsonOutputStream, records);
}

public static void WriteJson(Stream outputStream, IEnumerable<dynamic> records)
{
    using var writer = new StreamWriter(outputStream, leaveOpen: true);
    var json = JsonSerializer.Serialize(records);
    writer.Write(json);
    writer.Flush();
}
